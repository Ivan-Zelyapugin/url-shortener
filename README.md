# URL Shortener

URL Shortener — это приложение для создания коротких ссылок и их последующего преобразования обратно в длинные URL-адреса. Система использует PostgreSQL для хранения данных о коротких и длинных URL, а также обеспечивает API для взаимодействия с клиентами.

## Содержание

- [Описание проекта](#Описание-проекта)
- [Технологии и зависимости](#Технологии-и-зависимости)
- [Инструкция по установке](#Инструкция-по-установке)
- [Запуск проекта](#Запуск-проекта)
- [Использование API](#Использование-API)
- [Лицензия](#Лицензия)

## Описание проекта

Это простое приложение для сокращения URL, которое позволяет:
1. Сокращать длинные URL в короткие.
2. Получать оригинальный длинный URL по короткому.

Проект состоит из двух основных компонентов:
- **База данных PostgreSQL**, которая хранит информацию о коротких и длинных URL.
- **Веб-приложение**, которое предоставляет API для работы с URL.

## Технологии и зависимости

Проект использует следующие технологии и зависимости:

- **C++17** — Стандарт языка C++ для разработки приложения.
- **CMake** — Инструмент для сборки проекта.
- **Boost** — Библиотека для работы с системными и файловыми операциями.
- **PostgreSQL** — Система управления базами данных для хранения URL.
- **libpqxx** — Библиотека для работы с PostgreSQL в C++.
- **nlohmann/json** — Библиотека для работы с JSON в C++.
- **Docker** — Для контейнеризации приложения и базы данных.

### Зависимости для сборки:
- **CMake**
- **g++**
- **libboost-system-dev**
- **libboost-filesystem-dev**
- **libpq-dev**
- **libpqxx-dev**
- **nlohmann-json3-dev**

### Инструкция по установке

Для того чтобы начать работать с проектом, необходимо выполнить несколько шагов: установка зависимостей, сборка и настройка проекта.

## 1. Клонирование репозитория

Для начала клонируйте репозиторий на вашу локальную машину. Это можно сделать с помощью команды `git clone`.

```bash
git clone https://github.com/Ivan-Zelyapugin/url-shortener.git
cd url-shortener

## Запуск проекта

После того как проект собран и база данных настроена, вы можете запустить приложение с использованием Docker.

### 1. Запуск с помощью Docker

Для удобства запуска и контейнеризации проекта используется Docker. Следующие шаги позволят вам запустить проект с помощью Docker и Docker Compose.

#### 1.1. Запуск контейнеров

Для того чтобы запустить проект с помощью Docker, выполните следующую команду в корневой папке проекта:

```bash
docker-compose up --build

## Использование API

Приложение предоставляет два основных эндпоинта API для работы с короткими URL: один для создания короткого URL, другой — для получения оригинального URL по короткому.

### 1. Сокращение URL

Чтобы сократить длинный URL, отправьте **POST** запрос на путь `/shorten` с JSON-данными, содержащими длинный URL и опциональный короткий путь.

#### Пример запроса:

```bash
 ## 1. Запрос на сокращение url, новый url генерируется сам
curl -X POST http://127.0.0.1:8080/shorten     
    -H "Content-Type: application/json"     
    -d '{"url": "https://www.google.com"}'

 ## 2. Запрос на сокращение url, новый url пользоввтель передает сам
curl -X POST http://127.0.0.1:8080/shorten     
    -H "Content-Type: application/json"     
    -d '{"url": "http://example.com", "short_path": "abc123"}

 ## 3. Запрос на получение исходного url по короткому
curl -X GET http://127.0.0.1:8080/shorten/abc123
